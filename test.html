<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Hello world</title>
  <script>
     if ('WebAssembly' in window) {
        fetch('build/build-wasm.wasm') // Fetch the binary
            .then(response => response.arrayBuffer())
            .then(buffer => WebAssembly.compile(buffer)) // Get a Module from the buffer
            .then(module => {
              // Get an Instance of the Module
              const instance = new WebAssembly.Instance(module);
              document.getElementById("btn").addEventListener("click", function() {
                      alert("count function result is : " + instance.exports.count());
                  }, false);
            });
      } else {
        output.value = "Your browser doesn't support Web Assembly. You may need " +
        "to enable it in your browser's flags.";
      }
  </script>
  </head>
<body>
  <input type="button" id="btn" value="Click me to execute hello world!" />
</body>
</html>
